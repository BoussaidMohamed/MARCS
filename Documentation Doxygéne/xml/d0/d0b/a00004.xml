<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="d0/d0b/a00004" kind="file">
    <compoundname>ComThread.h</compoundname>
    <innerclass refid="d7/d46/a00002" prot="public">ComThread</innerclass>
    <innerclass refid="d1/d84/a00052" prot="public">CURRENT_WAY</innerclass>
    <innerclass refid="d3/d32/a00105" prot="public">GPS_DATA_ADVANCED</innerclass>
    <innerclass refid="d7/d70/a00106" prot="public">IMU_CALCDATA</innerclass>
    <innerclass refid="df/d98/a00107" prot="public">LL_STATUS</innerclass>
    <innerclass refid="d1/dd6/a00108" prot="public">RC_DATA</innerclass>
    <innerclass refid="dd/d42/a00109" prot="public">WAYPOINT</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>__COMTHREAD</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>__COMTHREAD</highlight></codeline>
<codeline lineno="3"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtCore/QThread&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtCore/QMutex&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtCore/QTimer&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sstream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;qextserialport.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//Waypoint<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WPPROP_ABSCOORDS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x01</highlight></codeline>
<codeline lineno="15"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WPPROP_HEIGHTENABLED<sp/><sp/><sp/><sp/>0x02</highlight></codeline>
<codeline lineno="16"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WPPROP_YAWENABLED<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x04</highlight></codeline>
<codeline lineno="17"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WPPROP_AUTOMATICGOTO<sp/><sp/><sp/><sp/>0x10</highlight></codeline>
<codeline lineno="18"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//Packet<sp/>descriptor<sp/>(polled<sp/>data)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>GPS_PACKET<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0200</highlight></codeline>
<codeline lineno="21"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>CURRENT_WAY_PACKET<sp/><sp/><sp/><sp/><sp/><sp/>0x0100</highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>STATUS_PACKET<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0001</highlight></codeline>
<codeline lineno="23"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>IMU_CALCDATA_PACKET<sp/><sp/><sp/><sp/><sp/>0x0004</highlight></codeline>
<codeline lineno="24"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>RC_DATA_PACKET<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0008</highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">//Packet<sp/>descriptor<sp/>for<sp/>data<sp/>polling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>IMU_CALCDATA_DESCRIPTOR<sp/>0x03</highlight></codeline>
<codeline lineno="28"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>GPS_DESCRIPTOR<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x29</highlight></codeline>
<codeline lineno="29"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>CURRENT_WAY_DESCRIPTOR<sp/><sp/>0x21</highlight></codeline>
<codeline lineno="30"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>STATUS_DESCRIPTOR<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x02</highlight></codeline>
<codeline lineno="31"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>RC_DATA_DESCRIPTOR<sp/><sp/><sp/><sp/><sp/><sp/>0x15</highlight></codeline>
<codeline lineno="32"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//Communication<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>RX_SIZE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>600</highlight></codeline>
<codeline lineno="35"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>TX_SIZE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>200</highlight></codeline>
<codeline lineno="36"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MAX_WAIT_READ<sp/><sp/><sp/>100</highlight></codeline>
<codeline lineno="37"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>READ_INTERVAL<sp/><sp/><sp/>1</highlight></codeline>
<codeline lineno="38"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>READ_MULTIPLIER<sp/>10</highlight></codeline>
<codeline lineno="39"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MAX_WAIT_WRITE<sp/><sp/>100</highlight></codeline>
<codeline lineno="40"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//MUAV<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>EMERGENCY<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x80</highlight></codeline>
<codeline lineno="43"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>HEIGHT_CONTROL<sp/><sp/>0x02</highlight></codeline>
<codeline lineno="44"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>GPS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x04</highlight></codeline>
<codeline lineno="45"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>SERIAL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x20</highlight></codeline>
<codeline lineno="46"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">//Waypoint<sp/>status</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WP_NAVSTAT_REACHED_POS<sp/><sp/><sp/><sp/><sp/><sp/>0x01</highlight></codeline>
<codeline lineno="49"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WP_NAVSTAT_REACHED_POS_TIME<sp/>0x02</highlight></codeline>
<codeline lineno="50"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WP_NAVSTAT_20M<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x04</highlight></codeline>
<codeline lineno="51"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">//Acknowwledges</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_HOME_ACK<sp/>&quot;&gt;a&amp;a&lt;&quot;</highlight></codeline>
<codeline lineno="54"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>COME_HOME_ACK<sp/><sp/><sp/>&quot;&gt;a(a&lt;&quot;</highlight></codeline>
<codeline lineno="55"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>WAYPOINT_ACK<sp/><sp/><sp/><sp/>&quot;&gt;a$a&lt;&quot;</highlight></codeline>
<codeline lineno="56"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>LAND_ACK<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&gt;a&apos;a&lt;&quot;</highlight></codeline>
<codeline lineno="57"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>GOTO_ACK<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&gt;a%a&lt;&quot;</highlight></codeline>
<codeline lineno="58"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">//Waypoint<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="dd/d42/a00109" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="dd/d42/a00109" kindref="compound">WAYPOINT</ref></highlight></codeline>
<codeline lineno="61"><highlight class="normal">{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//always<sp/>set<sp/>to<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="dd/d42/a00109_1a66219f3f331762fb4a8d21c1f01d1105" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a66219f3f331762fb4a8d21c1f01d1105" kindref="member">wp_number</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//don&apos;t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="dd/d42/a00109_1a42e84e4d4c65fe419a617709cc917e94" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a42e84e4d4c65fe419a617709cc917e94" kindref="member">dummy_1</ref>;</highlight></codeline>
<codeline lineno="66" refid="dd/d42/a00109_1ac19ac6c2b8775c374a37861835810517" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1ac19ac6c2b8775c374a37861835810517" kindref="member">dummy_2</ref>;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//see<sp/>WPPROP<sp/>defines<sp/>below</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="dd/d42/a00109_1a78b61a2d452301b80cd56942bfc362e0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a78b61a2d452301b80cd56942bfc362e0" kindref="member">properties</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//max.<sp/>speed<sp/>to<sp/>travel<sp/>to<sp/>waypoint<sp/>in<sp/>%<sp/>(default<sp/>100)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="dd/d42/a00109_1a38184c087a13ec7e1b887656d9ccf848" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a38184c087a13ec7e1b887656d9ccf848" kindref="member">max_speed</ref>;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//time<sp/>to<sp/>stay<sp/>at<sp/>a<sp/>waypoint<sp/>(XYZ)<sp/>in<sp/>1/100th<sp/>s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="dd/d42/a00109_1a9e291d833ba33b59d6063a0cd586a86b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a9e291d833ba33b59d6063a0cd586a86b" kindref="member">time</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//position<sp/>accuracy<sp/>to<sp/>consider<sp/>a<sp/>waypoint<sp/>reached<sp/>in<sp/>mm<sp/>(default:<sp/>2500<sp/>(=<sp/>2.5<sp/>m))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="dd/d42/a00109_1a702e933b2034a3d94950c39bfdcd3052" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a702e933b2034a3d94950c39bfdcd3052" kindref="member">pos_acc</ref>;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//chksum<sp/>=<sp/>0xAAAA<sp/>+<sp/>wp.yaw<sp/>+<sp/>wp.height<sp/>+<sp/>wp.time<sp/>+<sp/>wp.X<sp/>+<sp/>wp.Y<sp/>+<sp/>wp.max_speed<sp/>+<sp/>wp.pos_acc<sp/>+<sp/>wp.properties<sp/>+<sp/>wp.wp_number;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="dd/d42/a00109_1a8191d25c9e9667de75b852aa1b3cd7b7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a8191d25c9e9667de75b852aa1b3cd7b7" kindref="member">chksum</ref>;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//waypoint<sp/>coordinates<sp/>in<sp/>mm<sp/>//<sp/>longitude<sp/>in<sp/>abs<sp/>coords</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="dd/d42/a00109_1a80c0944640e62d3ed6c5419c1bcc0c88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a80c0944640e62d3ed6c5419c1bcc0c88" kindref="member">X</ref>;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//waypoint<sp/>coordinates<sp/>in<sp/>mm<sp/>//<sp/>latitude<sp/>in<sp/>abs<sp/>coords</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="dd/d42/a00109_1aa482c4cc86a24474e4fb19b5b5978778" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1aa482c4cc86a24474e4fb19b5b5978778" kindref="member">Y</ref>;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Desired<sp/>heading<sp/>at<sp/>waypoint</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="dd/d42/a00109_1a7d2cd970242d8b46e019dd7653588b30" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1a7d2cd970242d8b46e019dd7653588b30" kindref="member">yaw</ref>;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//height<sp/>over<sp/>0<sp/>reference<sp/>in<sp/>mm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="dd/d42/a00109_1ad12fc34ce789bce6c8a05d8a17138534" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="dd/d42/a00109_1ad12fc34ce789bce6c8a05d8a17138534" kindref="member">height</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal">};</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">//Current<sp/>way<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="d1/d84/a00052" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d1/d84/a00052" kindref="compound">CURRENT_WAY</ref></highlight></codeline>
<codeline lineno="89"><highlight class="normal">{</highlight></codeline>
<codeline lineno="90" refid="d1/d84/a00052_1ac5cfc788ccc5ab799064b736f3dde3f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1ac5cfc788ccc5ab799064b736f3dde3f7" kindref="member">dummy1</ref>;</highlight></codeline>
<codeline lineno="91" refid="d1/d84/a00052_1a78b61a2d452301b80cd56942bfc362e0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1a78b61a2d452301b80cd56942bfc362e0" kindref="member">properties</ref>;</highlight></codeline>
<codeline lineno="92" refid="d1/d84/a00052_1a3218be4f5f6d95cd25f617d5cde2450c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1a3218be4f5f6d95cd25f617d5cde2450c" kindref="member">nr_of_wp</ref>;<sp/></highlight><highlight class="comment">//don&apos;t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="d1/d84/a00052_1a62b91a02c0e7c93551d2875c725ad883" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1a62b91a02c0e7c93551d2875c725ad883" kindref="member">current_wp</ref>;<sp/></highlight><highlight class="comment">//don&apos;t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="d1/d84/a00052_1aa2932e7efac44e0261ffb6ca5ae02d75" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1aa2932e7efac44e0261ffb6ca5ae02d75" kindref="member">current_wp_memlocation</ref>;<sp/></highlight><highlight class="comment">//don&apos;t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97" refid="d1/d84/a00052_1a54849a1c58ce64ba16a055ad9555a027" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1a54849a1c58ce64ba16a055ad9555a027" kindref="member">status</ref>;<sp/><sp/></highlight><highlight class="comment">//don&apos;t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="d1/d84/a00052_1aaee8edca880b2c0e1cc3fb223964aac2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1aaee8edca880b2c0e1cc3fb223964aac2" kindref="member">dummy2</ref>;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="d1/d84/a00052_1a820db34ea9303c6b8f6266107b434058" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1a820db34ea9303c6b8f6266107b434058" kindref="member">navigation_status</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//see<sp/>WP_NAVSTAT_...<sp/>defines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="d1/d84/a00052_1adba24dc812335f36e8793c535dc6e8bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d1/d84/a00052_1adba24dc812335f36e8793c535dc6e8bf" kindref="member">distance_to_wp</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//distance<sp/>to<sp/>WP<sp/>in<sp/>dm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal">};<sp/></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="comment">//GPS<sp/>data<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="d3/d32/a00105" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref></highlight></codeline>
<codeline lineno="106"><highlight class="normal">{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//latitude/longitude<sp/>in<sp/>deg<sp/>*<sp/>10ˆ7</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="d3/d32/a00105_1a5bf9aac20fe4e7a73cd1a9fc30d7ae00" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a5bf9aac20fe4e7a73cd1a9fc30d7ae00" kindref="member">latitude</ref>;</highlight></codeline>
<codeline lineno="109" refid="d3/d32/a00105_1a17963aafb9acb082fcc06c90195cb4fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a17963aafb9acb082fcc06c90195cb4fa" kindref="member">longitude</ref>;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//GPS<sp/>height<sp/>in<sp/>mm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111" refid="d3/d32/a00105_1ad12fc34ce789bce6c8a05d8a17138534" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1ad12fc34ce789bce6c8a05d8a17138534" kindref="member">height</ref>;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//speed<sp/>in<sp/>x<sp/>(E/W)<sp/>and<sp/>y(N/S)<sp/>in<sp/>mm/s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="d3/d32/a00105_1a20fcaf3d7d5effa75ca571510f53a6cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a20fcaf3d7d5effa75ca571510f53a6cc" kindref="member">speed_x</ref>;</highlight></codeline>
<codeline lineno="114" refid="d3/d32/a00105_1a3abd5cb27c81871612651aee8a0476ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a3abd5cb27c81871612651aee8a0476ba" kindref="member">speed_y</ref>;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//GPS<sp/>heading<sp/>in<sp/>deg<sp/>*<sp/>1000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116" refid="d3/d32/a00105_1aa0a9c2882aad6535e52a6d429f1d42da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1aa0a9c2882aad6535e52a6d429f1d42da" kindref="member">heading</ref>;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//accuracy<sp/>estimates<sp/>in<sp/>mm<sp/>and<sp/>mm/s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="d3/d32/a00105_1a2c6f1022b2ac45d5e6238951dc81d77a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a2c6f1022b2ac45d5e6238951dc81d77a" kindref="member">horizontal_accuracy</ref>;</highlight></codeline>
<codeline lineno="119" refid="d3/d32/a00105_1a7db3f1dc8cddb85428225e000e94c5f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a7db3f1dc8cddb85428225e000e94c5f3" kindref="member">vertical_accuracy</ref>;</highlight></codeline>
<codeline lineno="120" refid="d3/d32/a00105_1ac5e7fd2a3a590e4b18a47ec291c52004" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1ac5e7fd2a3a590e4b18a47ec291c52004" kindref="member">speed_accuracy</ref>;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//number<sp/>of<sp/>satellite<sp/>vehicles<sp/>used<sp/>in<sp/>NAV<sp/>solution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="d3/d32/a00105_1a9390419b61f0e0bae53f5f094ce82b93" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a9390419b61f0e0bae53f5f094ce82b93" kindref="member">numSV</ref>;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//GPS<sp/>status<sp/>information;<sp/>0x03<sp/>=<sp/>valid<sp/>GPS<sp/>fix</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124" refid="d3/d32/a00105_1a6e27f49150e9a14580fb313cc2777e00" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a6e27f49150e9a14580fb313cc2777e00" kindref="member">status</ref>;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//coordinates<sp/>of<sp/>current<sp/>origin<sp/>in<sp/>deg<sp/>*<sp/>10ˆ7</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="d3/d32/a00105_1a82a31c4bd32fdcea78aeeee679a04b25" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a82a31c4bd32fdcea78aeeee679a04b25" kindref="member">latitude_best_estimate</ref>;</highlight></codeline>
<codeline lineno="127" refid="d3/d32/a00105_1a70d64913a348198bfa17a4c00de2c3b0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a70d64913a348198bfa17a4c00de2c3b0" kindref="member">longitude_best_estimate</ref>;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//velocities<sp/>in<sp/>X<sp/>(E/W)<sp/>and<sp/>Y<sp/>(N/S)<sp/>after<sp/>data<sp/>fusion</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="d3/d32/a00105_1a755d2852a14612e5e2b07fe2efce8e31" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1a755d2852a14612e5e2b07fe2efce8e31" kindref="member">speed_x_best_estimate</ref>;</highlight></codeline>
<codeline lineno="130" refid="d3/d32/a00105_1abde97a528a4ffec3463df5f0f86cdbd2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d3/d32/a00105_1abde97a528a4ffec3463df5f0f86cdbd2" kindref="member">speed_y_best_estimate</ref>;</highlight></codeline>
<codeline lineno="131"><highlight class="normal">};</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">//Inertial<sp/>Measurement<sp/>Unit<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134" refid="d7/d70/a00106" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d7/d70/a00106" kindref="compound">IMU_CALCDATA</ref></highlight></codeline>
<codeline lineno="135"><highlight class="normal">{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//angles<sp/>derived<sp/>by<sp/>integration<sp/>of<sp/>gyro_outputs,<sp/>drift<sp/>compensated<sp/>by<sp/>data<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="d7/d70/a00106_1a02e2b78d44d14ab230a5fdd1f8a61dc6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a02e2b78d44d14ab230a5fdd1f8a61dc6" kindref="member">angle_nick</ref>;</highlight></codeline>
<codeline lineno="138" refid="d7/d70/a00106_1a700c1f6bb0b98b4f44a4086502236d41" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a700c1f6bb0b98b4f44a4086502236d41" kindref="member">angle_roll</ref>;</highlight></codeline>
<codeline lineno="139" refid="d7/d70/a00106_1a7e1ff19efdfcc551a549c8d769bc34c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a7e1ff19efdfcc551a549c8d769bc34c5" kindref="member">angle_yaw</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//angular<sp/>velocities,<sp/>raw<sp/>values<sp/>[16<sp/>bit]<sp/>but<sp/>bias<sp/>free</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141" refid="d7/d70/a00106_1ace618a2450b8bd99b2377cf704a1604c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ace618a2450b8bd99b2377cf704a1604c" kindref="member">angvel_nick</ref>;</highlight></codeline>
<codeline lineno="142" refid="d7/d70/a00106_1a685764cb37c192579c2acddea33fc3af" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a685764cb37c192579c2acddea33fc3af" kindref="member">angvel_roll</ref>;</highlight></codeline>
<codeline lineno="143" refid="d7/d70/a00106_1ae0aac64596e8698a3f08c6bd67e5e3dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ae0aac64596e8698a3f08c6bd67e5e3dc" kindref="member">angvel_yaw</ref>;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//acc-sensor<sp/>outputs,<sp/>calibrated:<sp/>-10000..+10000<sp/>=<sp/>-1g..+1g</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="d7/d70/a00106_1a0650341698626bafda8a1ab5a56c3295" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a0650341698626bafda8a1ab5a56c3295" kindref="member">acc_x_calib</ref>;</highlight></codeline>
<codeline lineno="146" refid="d7/d70/a00106_1abe02bf64056f97d29007aad7e3d88fa0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1abe02bf64056f97d29007aad7e3d88fa0" kindref="member">acc_y_calib</ref>;</highlight></codeline>
<codeline lineno="147" refid="d7/d70/a00106_1a424a693d153b5d8e1d1fc7a79aaaecaf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a424a693d153b5d8e1d1fc7a79aaaecaf" kindref="member">acc_z_calib</ref>;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//horizontal<sp/>/<sp/>vertical<sp/>accelerations:<sp/>-10000..+10000<sp/>=<sp/>-1g..+1g</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149" refid="d7/d70/a00106_1a7fbb77671df053d84528cbea2382e592" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a7fbb77671df053d84528cbea2382e592" kindref="member">acc_x</ref>;</highlight></codeline>
<codeline lineno="150" refid="d7/d70/a00106_1a770deedc041beaba300bef47cb3a38a4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a770deedc041beaba300bef47cb3a38a4" kindref="member">acc_y</ref>;</highlight></codeline>
<codeline lineno="151" refid="d7/d70/a00106_1ae7846339ad41e5bb0fec5dd122604db4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ae7846339ad41e5bb0fec5dd122604db4" kindref="member">acc_z</ref>;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//reference<sp/>angles<sp/>derived<sp/>by<sp/>accelerations<sp/>only:<sp/>-90000..+90000;<sp/>1000<sp/>=<sp/>1<sp/>degree</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="d7/d70/a00106_1ac0830d448e4d20a04c32b09130494773" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ac0830d448e4d20a04c32b09130494773" kindref="member">acc_angle_nick</ref>;</highlight></codeline>
<codeline lineno="154" refid="d7/d70/a00106_1a874e0348826b70ca9216fc511d452d39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a874e0348826b70ca9216fc511d452d39" kindref="member">acc_angle_roll</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//total<sp/>acceleration<sp/>measured<sp/>(10000<sp/>=<sp/>1g)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="d7/d70/a00106_1a7676f09585cd44b4491a741080f5144f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a7676f09585cd44b4491a741080f5144f" kindref="member">acc_absolute_value</ref>;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//magnetic<sp/>field<sp/>sensors<sp/>output,<sp/>offset<sp/>free<sp/>and<sp/>scaled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158" refid="d7/d70/a00106_1a5bd8b970433f692f68235dac221830b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a5bd8b970433f692f68235dac221830b1" kindref="member">Hx</ref>;</highlight></codeline>
<codeline lineno="159" refid="d7/d70/a00106_1aaf715f851555c840ea562b90494851e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1aaf715f851555c840ea562b90494851e3" kindref="member">Hy</ref>;</highlight></codeline>
<codeline lineno="160" refid="d7/d70/a00106_1a543c6feb7feff64c375d476164793025" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a543c6feb7feff64c375d476164793025" kindref="member">Hz</ref>;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//compass<sp/>reading:<sp/>angle<sp/>reference<sp/>for<sp/>angle_yaw:<sp/>0..360000;<sp/>1000<sp/>=<sp/>1<sp/>degree</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162" refid="d7/d70/a00106_1ac66ed08857aecb91f07bdc414b445973" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ac66ed08857aecb91f07bdc414b445973" kindref="member">mag_heading</ref>;</highlight></codeline>
<codeline lineno="163" refid="d7/d70/a00106_1a20fcaf3d7d5effa75ca571510f53a6cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a20fcaf3d7d5effa75ca571510f53a6cc" kindref="member">speed_x</ref>;</highlight></codeline>
<codeline lineno="164" refid="d7/d70/a00106_1a3abd5cb27c81871612651aee8a0476ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a3abd5cb27c81871612651aee8a0476ba" kindref="member">speed_y</ref>;</highlight></codeline>
<codeline lineno="165" refid="d7/d70/a00106_1a8699fea0a4e28198c556231ab49ffcf5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a8699fea0a4e28198c556231ab49ffcf5" kindref="member">speed_z</ref>;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//height<sp/>in<sp/>mm<sp/>(after<sp/>data<sp/>fusion)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167" refid="d7/d70/a00106_1ad12fc34ce789bce6c8a05d8a17138534" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ad12fc34ce789bce6c8a05d8a17138534" kindref="member">height</ref>;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//diff.<sp/>height<sp/>in<sp/>mm/s<sp/>(after<sp/>data<sp/>fusion)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="d7/d70/a00106_1a454401a27e66ca5856375ef34a112f16" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a454401a27e66ca5856375ef34a112f16" kindref="member">dheight</ref>;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//diff.<sp/>height<sp/>measured<sp/>by<sp/>the<sp/>pressure<sp/>sensor<sp/>[mm/s]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="d7/d70/a00106_1a58deb45e3ef00aa81b1b03299acc5923" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1a58deb45e3ef00aa81b1b03299acc5923" kindref="member">dheight_reference</ref>;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//height<sp/>measured<sp/>by<sp/>the<sp/>pressure<sp/>sensor<sp/>[mm]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="d7/d70/a00106_1ae47e65d3c3b86aa787aa7d890b8cdc80" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d70/a00106_1ae47e65d3c3b86aa787aa7d890b8cdc80" kindref="member">height_reference</ref>;</highlight></codeline>
<codeline lineno="174"><highlight class="normal">};</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">//MUAV<sp/>Status<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177" refid="df/d98/a00107" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="df/d98/a00107" kindref="compound">LL_STATUS</ref></highlight></codeline>
<codeline lineno="178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//battery<sp/>voltages<sp/>in<sp/>mV</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="df/d98/a00107_1a459f77aee98b6bebbd3c2d54f2ab6667" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1a459f77aee98b6bebbd3c2d54f2ab6667" kindref="member">battery_voltage_1</ref>;</highlight></codeline>
<codeline lineno="181" refid="df/d98/a00107_1a5e4eeb8bd1ab20465f6008fbebbbedce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1a5e4eeb8bd1ab20465f6008fbebbbedce" kindref="member">battery_voltage_2</ref>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//don’t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="df/d98/a00107_1aab78832eca253df36aafa204d68e4bac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1aab78832eca253df36aafa204d68e4bac" kindref="member">status</ref>;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Controller<sp/>cycles<sp/>per<sp/>second<sp/>(should<sp/>be<sp/>˜1000)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185" refid="df/d98/a00107_1adb812fe651007f02ed6d18ddad64d29b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1adb812fe651007f02ed6d18ddad64d29b" kindref="member">cpu_load</ref>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//don’t<sp/>care</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187" refid="df/d98/a00107_1ad1d096bb5ed60c0f259c3adca79c103f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1ad1d096bb5ed60c0f259c3adca79c103f" kindref="member">compass_enabled</ref>;</highlight></codeline>
<codeline lineno="188" refid="df/d98/a00107_1aac75399e9f68d442064c7d78f5f2fa73" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1aac75399e9f68d442064c7d78f5f2fa73" kindref="member">chksum_error</ref>;</highlight></codeline>
<codeline lineno="189" refid="df/d98/a00107_1af2fb6251c4d6d896f8b035e3b0f20f62" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1af2fb6251c4d6d896f8b035e3b0f20f62" kindref="member">flying</ref>;</highlight></codeline>
<codeline lineno="190" refid="df/d98/a00107_1aab9b23de5d0dbb9425a558ca5ffff3df" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1aab9b23de5d0dbb9425a558ca5ffff3df" kindref="member">motors_on</ref>;</highlight></codeline>
<codeline lineno="191" refid="df/d98/a00107_1a3a9b579ed098eba7a5107adb32a9375a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1a3a9b579ed098eba7a5107adb32a9375a" kindref="member">flightMode</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Time<sp/>motors<sp/>are<sp/>turning</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193" refid="df/d98/a00107_1aaee9038f6196d496f2539741c95e0f9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="df/d98/a00107_1aaee9038f6196d496f2539741c95e0f9b" kindref="member">up_time</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal">};</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="comment">//Remote<sp/>control<sp/>received<sp/>data<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197" refid="d1/dd6/a00108" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref></highlight></codeline>
<codeline lineno="198"><highlight class="normal">{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//channels<sp/>as<sp/>read<sp/>from<sp/>R/C<sp/>receiver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200" refid="d1/dd6/a00108_1a64c9aef9bf2d42d83cb05d250ab4ec3a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d1/dd6/a00108_1a64c9aef9bf2d42d83cb05d250ab4ec3a" kindref="member">channels_in</ref>[8];</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//channels<sp/>bias<sp/>free,<sp/>remapped<sp/>and<sp/>scaled<sp/>to<sp/>0..4095</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202" refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[8];</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Indicator<sp/>for<sp/>valid<sp/>R/C<sp/>receiption</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204" refid="d1/dd6/a00108_1a6ae861576031be7ecfd4d6c9e870fb99" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d1/dd6/a00108_1a6ae861576031be7ecfd4d6c9e870fb99" kindref="member">lock</ref>;</highlight></codeline>
<codeline lineno="205"><highlight class="normal">};</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207" refid="d7/d46/a00002" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="d7/d46/a00002" kindref="compound">ComThread</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>QThread</highlight></codeline>
<codeline lineno="208"><highlight class="normal">{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_OBJECT</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="212"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Prefix<sp/><sp/>Meaning<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Variable<sp/>Type</highlight></codeline>
<codeline lineno="213"><highlight class="comment"></highlight></codeline>
<codeline lineno="214"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Array<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Table</highlight></codeline>
<codeline lineno="215"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Boolean<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Logic</highlight></codeline>
<codeline lineno="216"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Double<sp/>precision<sp/>float</highlight></codeline>
<codeline lineno="217"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dw<sp/><sp/><sp/><sp/><sp/><sp/>Double<sp/>Word<sp/><sp/><sp/><sp/><sp/>Unsigned<sp/>32<sp/>bits<sp/>word</highlight></codeline>
<codeline lineno="218"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Integer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Integer<sp/>used<sp/>as<sp/>index</highlight></codeline>
<codeline lineno="219"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Integer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Integer<sp/>used<sp/>as<sp/>value</highlight></codeline>
<codeline lineno="220"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pointer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pointer</highlight></codeline>
<codeline lineno="221"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/><sp/><sp/><sp/><sp/><sp/><sp/>String<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>String</highlight></codeline>
<codeline lineno="222"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ss<sp/><sp/><sp/><sp/><sp/><sp/>String<sp/>stream<sp/><sp/><sp/>Stringstream</highlight></codeline>
<codeline lineno="223"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=============<sp/>Attributes<sp/>===============</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227" refid="d7/d46/a00002_1a07ff1fa563f3d58110ce80c3c1796f9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HANDLE<sp/><ref refid="d7/d46/a00002_1a07ff1fa563f3d58110ce80c3c1796f9b" kindref="member">handle</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//WinAPI<sp/>handle<sp/>for<sp/>virtual<sp/>COM<sp/>(XBee)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228" refid="d7/d46/a00002_1a9954a8d34e6014302ae1d99cf5714cc9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DCB<sp/><ref refid="d7/d46/a00002_1a9954a8d34e6014302ae1d99cf5714cc9" kindref="member">dcb</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//WinAPI<sp/>dcb<sp/>for<sp/>handle<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229" refid="d7/d46/a00002_1a0dff6629133ecc492d6b9ab44b60cb80" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d42/a00109" kindref="compound">WAYPOINT</ref><sp/><ref refid="d7/d46/a00002_1a0dff6629133ecc492d6b9ab44b60cb80" kindref="member">wp</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Waypoint<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230" refid="d7/d46/a00002_1a951ec1a18196d806edaf6d3fb517a239" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a951ec1a18196d806edaf6d3fb517a239" kindref="member">mustWrite</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Write<sp/>flag</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="d7/d46/a00002_1a129a62f35fc57084ceccbdc82794d9c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a129a62f35fc57084ceccbdc82794d9c1" kindref="member">mustRead</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Read<sp/>flag</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232" refid="d7/d46/a00002_1a21713484042dd9404528d9cec57ebe87" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a21713484042dd9404528d9cec57ebe87" kindref="member">mustPoll</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Poll<sp/>flag</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="d7/d46/a00002_1a8e3c3dbe1da8cc4b648ab2a6d7ddb7c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a8e3c3dbe1da8cc4b648ab2a6d7ddb7c5" kindref="member">command</ref>[TX_SIZE];<sp/><sp/></highlight><highlight class="comment">//Command<sp/>to<sp/>be<sp/>sent<sp/>array</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="d7/d46/a00002_1a581ac8ca710cda078fd8ddb8e50954eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a581ac8ca710cda078fd8ddb8e50954eb" kindref="member">dataToPoll</ref>[10];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Data<sp/>poll<sp/>descriptor<sp/>array</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235" refid="d7/d46/a00002_1a9bfec7969db289b67014513bcabba47f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a9bfec7969db289b67014513bcabba47f" kindref="member">buffer</ref>[RX_SIZE];<sp/><sp/><sp/></highlight><highlight class="comment">//Reception<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236" refid="d7/d46/a00002_1ad1e1c4a0c8bb235b5e26ec9c5d1c3f0d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1ad1e1c4a0c8bb235b5e26ec9c5d1c3f0d" kindref="member">sizeWrite</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Number<sp/>of<sp/>char<sp/>to<sp/>send</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="d7/d46/a00002_1ad9f5381795006f1f187538296368cd11" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1ad9f5381795006f1f187538296368cd11" kindref="member">sizeRead</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Number<sp/>of<sp/>char<sp/>to<sp/>read</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238" refid="d7/d46/a00002_1a608be86b18e15c3309a1b50794a2115c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a608be86b18e15c3309a1b50794a2115c" kindref="member">sizePoll</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Number<sp/>of<sp/>char<sp/>to<sp/>send<sp/>for<sp/>data<sp/>polling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239" refid="d7/d46/a00002_1a578f5ec7742dce06b86799b36f1d138c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>QTimer<sp/><ref refid="d7/d46/a00002_1a578f5ec7742dce06b86799b36f1d138c" kindref="member">timerFail</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Communication<sp/>retry<sp/>timer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="d7/d46/a00002_1a53794d9466be19cb9c0b65f87090e237" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a53794d9466be19cb9c0b65f87090e237" kindref="member">failed</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Transmission<sp/>failed<sp/>(not<sp/>timed<sp/>out)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="d7/d46/a00002_1a8e19c465f25509158341edd459c119b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a8e19c465f25509158341edd459c119b1" kindref="member">failNoticed</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Transmission<sp/>fail<sp/>noticed<sp/>to<sp/>the<sp/>controller</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=============<sp/>Methods<sp/>==================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d7/d46/a00002_1ab24bebbd2ca81a9931aa0184366c9ba2" kindref="member">ComThread</ref>();</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d7/d46/a00002_1acbe0fd6d9516075ea60fb81b8a323461" kindref="member">~ComThread</ref>();</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a13a43e6d814de94978c515cb084873b1" kindref="member">run</ref>();</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a665582c4fbc3a48be815747e26dd6a02" kindref="member">createCom</ref>(QString<sp/>p_sCom);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a681ba4ec7299214b9bb86e660fe22701" kindref="member">releaseCom</ref>();</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a34bd4298c27ce53379ec5eb23db83601" kindref="member">clearCounters</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal">signals:</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=============<sp/>Signals<sp/>==================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a406892b365248cd6b35030378d1d4310" kindref="member">dataReceived</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="d7/d46/a00002_1a9bfec7969db289b67014513bcabba47f" kindref="member">buffer</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>length);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a289c96805ddb1941fe330931d73321a0" kindref="member">XBeeDisconnected</ref>();</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1afb47495b5727dae0e7a5bac62098cb1e" kindref="member">XBeeReconnected</ref>();</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>slots<sp/>:</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=============<sp/>Slots<sp/>====================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1adbfad4ea4f6a7fbd059e2d8ec65f1539" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>y,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>z,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>number);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1afeec69b8ef45da950fab78df4a1584e3" kindref="member">sendMove</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>y,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>z,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>yaw);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a26c718e7e95e398ee9368434c23d0622" kindref="member">sendGoTo</ref>();</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a38513372e1af4752cee2e2d046c98821" kindref="member">sendLaunch</ref>();</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a2664ee66ff3ea7ed8cdca604bce4be33" kindref="member">sendLand</ref>();</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1ac898a9141e335cfee3e6c9ebb6815411" kindref="member">sendHome</ref>();</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1ad6b67904e4b30f5a26bef654f8a3c4a6" kindref="member">sendMotOn</ref>();</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a01a812308fc692593b9abcab86bf003d" kindref="member">sendMotOff</ref>();</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002_1a8a8485f38f2aef24f1fd53c31949876b" kindref="member">poll</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>pDataToPoll);</highlight></codeline>
<codeline lineno="402"><highlight class="normal">};</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="C:/Users/mboussai/Desktop/Mohamed/Qt Projects/MARCS/ComThread.h"/>
  </compounddef>
</doxygen>
