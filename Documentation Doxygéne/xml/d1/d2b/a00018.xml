<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="d1/d2b/a00018" kind="file">
    <compoundname>CommunicationControl.cpp</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="dd/da2/a00019" kindref="compound">CommunicationControl.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"><ref refid="d8/d84/a00001" kindref="compound">CommunicationControl</ref>*<sp/><ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">CommunicationControl::singleton</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="d8/d84/a00001_1a2652efe05f8aef69a18bc33ff242f6c4" refkind="member"><highlight class="normal"><ref refid="d8/d84/a00001_1a2652efe05f8aef69a18bc33ff242f6c4" kindref="member">CommunicationControl::CommunicationControl</ref>()</highlight></codeline>
<codeline lineno="6"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="d7/d46/a00002" kindref="compound">ComThread</ref>();</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a38513372e1af4752cee2e2d046c98821" kindref="member">sendLaunch</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a38513372e1af4752cee2e2d046c98821" kindref="member">sendLaunch</ref>()));</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a2664ee66ff3ea7ed8cdca604bce4be33" kindref="member">sendLand</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a2664ee66ff3ea7ed8cdca604bce4be33" kindref="member">sendLand</ref>()));</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1ac898a9141e335cfee3e6c9ebb6815411" kindref="member">sendHome</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1ac898a9141e335cfee3e6c9ebb6815411" kindref="member">sendHome</ref>()));</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1ad6b67904e4b30f5a26bef654f8a3c4a6" kindref="member">sendMotOn</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1ad6b67904e4b30f5a26bef654f8a3c4a6" kindref="member">sendMotOn</ref>()));</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a01a812308fc692593b9abcab86bf003d" kindref="member">sendMotOff</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a01a812308fc692593b9abcab86bf003d" kindref="member">sendMotOff</ref>()));</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1ad6acfa8418d9902f110bee275fe13a57" kindref="member">poll</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1ad6acfa8418d9902f110bee275fe13a57" kindref="member">poll</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SIGNAL(dataReceived(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SLOT(<ref refid="d8/d84/a00001_1ac21f894815c1cbdbf31d5bfe7d69a0af" kindref="member">computePolledData</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a289c96805ddb1941fe330931d73321a0" kindref="member">XBeeDisconnected</ref>()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a289c96805ddb1941fe330931d73321a0" kindref="member">XBeeDisconnected</ref>()));</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1afb47495b5727dae0e7a5bac62098cb1e" kindref="member">XBeeReconnected</ref>()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1afb47495b5727dae0e7a5bac62098cb1e" kindref="member">XBeeReconnected</ref>()));</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(&amp;<ref refid="d8/d84/a00001_1a318ffe406e999f9b02b7e811cfc86479" kindref="member">m_pPollTimer</ref>,<sp/>SIGNAL(timeout()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SLOT(<ref refid="d8/d84/a00001_1ac02d771e0ef073ed89aeaca4ed961a05" kindref="member">pollData</ref>()));</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(&amp;<ref refid="d8/d84/a00001_1a0ed94524da54e5031e44ab80b249b042" kindref="member">m_pPollTimeout</ref>,<sp/>SIGNAL(timeout()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SLOT(<ref refid="d8/d84/a00001_1a417a5d7262b4ed5f466af6ff7878b09d" kindref="member">pollDataTimedOut</ref>()));</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a289c96805ddb1941fe330931d73321a0" kindref="member">XBeeDisconnected</ref>()),<sp/>&amp;<ref refid="d8/d84/a00001_1a3347d5764783c5008947f5addca55346" kindref="member">m_pRetryTimer</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1ae262c467eec4b15d1f6e487ab6397d68" kindref="member">start</ref>()));</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(&amp;<ref refid="d8/d84/a00001_1a3347d5764783c5008947f5addca55346" kindref="member">m_pRetryTimer</ref>,<sp/>SIGNAL(timeout()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SLOT(<ref refid="d8/d84/a00001_1a7162886e6b7f34f937eefcdfdcf9a052" kindref="member">retryConnection</ref>()));</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1afb47495b5727dae0e7a5bac62098cb1e" kindref="member">XBeeReconnected</ref>()),<sp/>&amp;<ref refid="d8/d84/a00001_1a3347d5764783c5008947f5addca55346" kindref="member">m_pRetryTimer</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a8c528baf37154d347366083f0f816846" kindref="member">stop</ref>()));</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1afeec69b8ef45da950fab78df4a1584e3" kindref="member">sendMove</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)),<sp/></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1afeec69b8ef45da950fab78df4a1584e3" kindref="member">sendMove</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)),</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><ref refid="d8/d84/a00001_1ac155e35fdeebafc89723a51520fb9fe6" kindref="member">longitude</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a76714bdbc5c536fa77dfb14533ff82a9" kindref="member">latitude</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1aa5a7389d7467aa0a6f4dbd964b1ce692" kindref="member">m_nLinkTries</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a7ac28e04cb63f852e31316b6fcd25228" kindref="member">createLog</ref>();</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>-&gt;start();</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a3347d5764783c5008947f5addca55346" kindref="member">m_pRetryTimer</ref>.setInterval(1000);</highlight></codeline>
<codeline lineno="41"><highlight class="normal">}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="d8/d84/a00001_1aae9d52caad9fb2892deeb25596cfd2ab" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1aae9d52caad9fb2892deeb25596cfd2ab" kindref="member">CommunicationControl::kill</ref>()</highlight></codeline>
<codeline lineno="44"><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref><sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="50"><highlight class="normal">}</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="d8/d84/a00001_1a6dd7d247ba3ce1d8ee4418f7a5a1ac68" refkind="member"><highlight class="normal"><ref refid="d8/d84/a00001_1a6dd7d247ba3ce1d8ee4418f7a5a1ac68" kindref="member">CommunicationControl::~CommunicationControl</ref>()</highlight></codeline>
<codeline lineno="53"><highlight class="normal">{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal">}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="d8/d84/a00001_1ae262c467eec4b15d1f6e487ab6397d68" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1ae262c467eec4b15d1f6e487ab6397d68" kindref="member">CommunicationControl::start</ref>(QString<sp/>p_sCom)</highlight></codeline>
<codeline lineno="58"><highlight class="normal">{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a6ac4068e574f32c7f5aa0c54f3ce3897" kindref="member">m_sCom</ref><sp/>=<sp/>p_sCom;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>-&gt;<ref refid="d7/d46/a00002_1a665582c4fbc3a48be815747e26dd6a02" kindref="member">createCom</ref>(p_sCom);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a318ffe406e999f9b02b7e811cfc86479" kindref="member">m_pPollTimer</ref>.start(200);</highlight></codeline>
<codeline lineno="62"><highlight class="normal">}</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="d8/d84/a00001_1a8c528baf37154d347366083f0f816846" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a8c528baf37154d347366083f0f816846" kindref="member">CommunicationControl::stop</ref>()</highlight></codeline>
<codeline lineno="65"><highlight class="normal">{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>-&gt;<ref refid="d7/d46/a00002_1a681ba4ec7299214b9bb86e660fe22701" kindref="member">releaseCom</ref>();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a318ffe406e999f9b02b7e811cfc86479" kindref="member">m_pPollTimer</ref>.stop();</highlight></codeline>
<codeline lineno="68"><highlight class="normal">}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="d8/d84/a00001_1afebd43c1f2afd7ec0eb35f99e50f0964" refkind="member"><highlight class="normal"><ref refid="d8/d84/a00001" kindref="compound">CommunicationControl</ref>*<sp/><ref refid="d8/d84/a00001_1afebd43c1f2afd7ec0eb35f99e50f0964" kindref="member">CommunicationControl::getInstance</ref>()</highlight></codeline>
<codeline lineno="71"><highlight class="normal">{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref><sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a2652efe05f8aef69a18bc33ff242f6c4" kindref="member">CommunicationControl</ref>();</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1aee0300254b12ae17cc030042d51787c4" kindref="member">singleton</ref>;</highlight></codeline>
<codeline lineno="78"><highlight class="normal">}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="d8/d84/a00001_1a4c881076a61ae41ab4b5e0a615b442b6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a4c881076a61ae41ab4b5e0a615b442b6" kindref="member">CommunicationControl::controlWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>xDest,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>yDest,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>zDest)</highlight></codeline>
<codeline lineno="81"><highlight class="normal">{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>raver<sp/>=<sp/>6378137;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>xRad<sp/>=<sp/>xDest<sp/>*<sp/>M_PI<sp/>/<sp/>180.;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>yRad<sp/>=<sp/>yDest<sp/>*<sp/>M_PI<sp/>/<sp/>180.;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>latRad<sp/>=<sp/><ref refid="d8/d84/a00001_1a76714bdbc5c536fa77dfb14533ff82a9" kindref="member">latitude</ref><sp/>*<sp/>M_PI<sp/>/<sp/>180.;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>longRad<sp/>=<sp/><ref refid="d8/d84/a00001_1ac155e35fdeebafc89723a51520fb9fe6" kindref="member">longitude</ref><sp/>*<sp/>M_PI<sp/>/<sp/>180.;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>dist<sp/>=<sp/>raver<sp/>*<sp/>qAcos((qCos(yRad)<sp/>*<sp/>qCos(latRad)<sp/>*<sp/>qCos(xRad<sp/>-<sp/>longRad))<sp/>+<sp/>(qSin(yRad)<sp/>*<sp/>qSin(latRad)));</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>validDistance<sp/>=<sp/>dist<sp/>&lt;=<sp/>DISTMAX;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>validAltitude<sp/>=<sp/>(zDest<sp/>&gt;<sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref>)<sp/>&amp;&amp;<sp/>(zDest<sp/>&lt;=<sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref><sp/>+<sp/>ALTMAX);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1acc446efda119ee2dd0b845a4e96b3397" kindref="member">validWaypoint</ref>(dist,<sp/>validDistance,<sp/>validAltitude);</highlight></codeline>
<codeline lineno="95"><highlight class="normal">}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97" refid="d8/d84/a00001_1af69ddfcaef7d003a3ac128b9f33ca1ba" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1af69ddfcaef7d003a3ac128b9f33ca1ba" kindref="member">CommunicationControl::crc_update</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>crc,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>data)</highlight></codeline>
<codeline lineno="98"><highlight class="normal">{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>^=<sp/>(crc<sp/>&amp;<sp/>0xff);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>^=<sp/>data<sp/>&lt;&lt;<sp/>4;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>data<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>((crc<sp/>&gt;&gt;<sp/>8)<sp/>&amp;<sp/>0xff))<sp/>^<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)<sp/>(data<sp/>&gt;&gt;<sp/>4)<sp/>^<sp/>((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>short)<sp/>data<sp/>&lt;&lt;<sp/>3));</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">CommunicationControl::crc16</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>cnt)</highlight></codeline>
<codeline lineno="105"><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>crc<sp/>=<sp/>0xff;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*ptr<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)data;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>cnt;<sp/>i++)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crc<sp/>=<sp/><ref refid="d8/d84/a00001_1af69ddfcaef7d003a3ac128b9f33ca1ba" kindref="member">crc_update</ref>(crc,<sp/>*ptr);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr++;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>crc;</highlight></codeline>
<codeline lineno="116"><highlight class="normal">}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="d8/d84/a00001_1ac21f894815c1cbdbf31d5bfe7d69a0af" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1ac21f894815c1cbdbf31d5bfe7d69a0af" kindref="member">CommunicationControl::computePolledData</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>length)</highlight></codeline>
<codeline lineno="119"><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>descriptor<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>sendCrc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>checksum<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>ack[6];</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a0ed94524da54e5031e44ab80b249b042" kindref="member">m_pPollTimeout</ref>.stop();</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1aa5a7389d7467aa0a6f4dbd964b1ce692" kindref="member">m_nLinkTries</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a3a3794256db7e6b52daad0dc178c2db9" kindref="member">XBeeStatus</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/>endl<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Compute<sp/>polled<sp/>data&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>length)</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>End<sp/>of<sp/>buffer<sp/>not<sp/>reached<sp/>:<sp/>number<sp/>of<sp/>resting<sp/>char<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>length<sp/>-<sp/>index<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!(data[index]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;&gt;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((data[index<sp/>+<sp/>1]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;a&apos;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>data[index<sp/>+<sp/>3]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;a&apos;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>data[index<sp/>+<sp/>4]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;&lt;&apos;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/>length)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;=<sp/>395)</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Command<sp/>acknowledge<sp/>received&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)ack,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;data[index],<sp/>5<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ack[5]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a49a7c28f7c937cffeef6878cec48b396" kindref="member">displayAck</ref>(ack);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((data[index<sp/>+<sp/>1]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;*&apos;</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>data[index<sp/>+<sp/>2]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;&gt;&apos;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/>length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&gt;*&gt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>New<sp/>polled<sp/>data<sp/>structure<sp/>found<sp/>at<sp/>index<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>index<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>descriptor<sp/>=<sp/>data[index<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&gt;*&gt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)];</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&gt;*&gt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(char);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(descriptor<sp/>==<sp/>STATUS_DESCRIPTOR)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Status<sp/>polled<sp/>data<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="df/d98/a00107" kindref="compound">LL_STATUS</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="d8/d84/a00001_1aab0e6d0ec390cd7a3094356a2bc5354e" kindref="member">st</ref>,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="df/d98/a00107" kindref="compound">LL_STATUS</ref>));</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="df/d98/a00107" kindref="compound">LL_STATUS</ref>);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;sendCrc,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>checksum<sp/>=<sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">crc16</ref>(&amp;<ref refid="d8/d84/a00001_1aab0e6d0ec390cd7a3094356a2bc5354e" kindref="member">st</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="df/d98/a00107" kindref="compound">LL_STATUS</ref>));</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1aa21c6f5ea480a2b19a771e4a232d1a4b" kindref="member">batteryLevel</ref>(<ref refid="d8/d84/a00001_1aab0e6d0ec390cd7a3094356a2bc5354e" kindref="member">st</ref>.<ref refid="df/d98/a00107_1a459f77aee98b6bebbd3c2d54f2ab6667" kindref="member">battery_voltage_1</ref><sp/>/<sp/>1000.);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1ac07c6c4960d3789765cee7bc68a5fe44" kindref="member">updateStatus</ref>(<ref refid="d8/d84/a00001_1aab0e6d0ec390cd7a3094356a2bc5354e" kindref="member">st</ref>.<ref refid="df/d98/a00107_1a3a9b579ed098eba7a5107adb32a9375a" kindref="member">flightMode</ref>);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a5f730a9a91784cbf28d39ab22e4d7fec" kindref="member">inFlight</ref>(<ref refid="d8/d84/a00001_1aab0e6d0ec390cd7a3094356a2bc5354e" kindref="member">st</ref>.<ref refid="df/d98/a00107_1af2fb6251c4d6d896f8b035e3b0f20f62" kindref="member">flying</ref>);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR<sp/>:<sp/>Incomplete<sp/>structure&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(descriptor<sp/>==<sp/>IMU_CALCDATA_DESCRIPTOR)</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IMU<sp/>polled<sp/>data<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d7/d70/a00106" kindref="compound">IMU_CALCDATA</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="d8/d84/a00001_1a8e97a0fe2d5d03eb1a9344f36f8b6b85" kindref="member">imu</ref>,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d7/d70/a00106" kindref="compound">IMU_CALCDATA</ref>));</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d7/d70/a00106" kindref="compound">IMU_CALCDATA</ref>);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;sendCrc,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>checksum<sp/>=<sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">crc16</ref>(&amp;<ref refid="d8/d84/a00001_1a8e97a0fe2d5d03eb1a9344f36f8b6b85" kindref="member">imu</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d7/d70/a00106" kindref="compound">IMU_CALCDATA</ref>));</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1ae024163074f229a06b7ea69b190e466d" kindref="member">heading</ref><sp/>=<sp/><ref refid="d8/d84/a00001_1a8e97a0fe2d5d03eb1a9344f36f8b6b85" kindref="member">imu</ref>.<ref refid="d7/d70/a00106_1ac66ed08857aecb91f07bdc414b445973" kindref="member">mag_heading</ref><sp/>/<sp/>1000.;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a89f6abd564014faeff7cd20c340a9c7d" kindref="member">height</ref><sp/>=<sp/><ref refid="d8/d84/a00001_1a8e97a0fe2d5d03eb1a9344f36f8b6b85" kindref="member">imu</ref>.<ref refid="d7/d70/a00106_1ad12fc34ce789bce6c8a05d8a17138534" kindref="member">height</ref><sp/>/<sp/>1000.;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1aa3c54f0958638486df2b69a9b53c5d7f" kindref="member">updateHeading</ref>(<ref refid="d8/d84/a00001_1ae024163074f229a06b7ea69b190e466d" kindref="member">heading</ref>);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a5114b66563f0437e0f1eac070557cb4c" kindref="member">updateHeight</ref>(<ref refid="d8/d84/a00001_1a89f6abd564014faeff7cd20c340a9c7d" kindref="member">height</ref>);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR<sp/>:<sp/>Incomplete<sp/>structure&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(descriptor<sp/>==<sp/>CURRENT_WAY_DESCRIPTOR)</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Current<sp/>way<sp/>polled<sp/>data<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/d84/a00052" kindref="compound">CURRENT_WAY</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="d8/d84/a00001_1a4c9b6ed9e971686ce98aa7170cb1e7f2" kindref="member">cw</ref>,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/d84/a00052" kindref="compound">CURRENT_WAY</ref>));</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/d84/a00052" kindref="compound">CURRENT_WAY</ref>);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;sendCrc,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>checksum<sp/>=<sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">crc16</ref>(&amp;<ref refid="d8/d84/a00001_1a4c9b6ed9e971686ce98aa7170cb1e7f2" kindref="member">cw</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/d84/a00052" kindref="compound">CURRENT_WAY</ref>));</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a6f8056c0ce5dd09565148cff2aa1d6aa" kindref="member">waypointNAVInfo</ref>(<ref refid="d8/d84/a00001_1a4c9b6ed9e971686ce98aa7170cb1e7f2" kindref="member">cw</ref>.<ref refid="d1/d84/a00052_1a62b91a02c0e7c93551d2875c725ad883" kindref="member">current_wp</ref>,<sp/><ref refid="d8/d84/a00001_1a4c9b6ed9e971686ce98aa7170cb1e7f2" kindref="member">cw</ref>.<ref refid="d1/d84/a00052_1adba24dc812335f36e8793c535dc6e8bf" kindref="member">distance_to_wp</ref><sp/>/<sp/>10.,<sp/><ref refid="d8/d84/a00001_1a4c9b6ed9e971686ce98aa7170cb1e7f2" kindref="member">cw</ref>.<ref refid="d1/d84/a00052_1a820db34ea9303c6b8f6266107b434058" kindref="member">navigation_status</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR<sp/>:<sp/>Incomplete<sp/>structure&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(descriptor<sp/>==<sp/>GPS_DESCRIPTOR<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Geolocation<sp/>polled<sp/>data<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref>));</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref>);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;sendCrc,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>checksum<sp/>=<sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">crc16</ref>(&amp;<ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d3/d32/a00105" kindref="compound">GPS_DATA_ADVANCED</ref>));</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1ac155e35fdeebafc89723a51520fb9fe6" kindref="member">longitude</ref><sp/>=<sp/><ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1a17963aafb9acb082fcc06c90195cb4fa" kindref="member">longitude</ref><sp/>/<sp/>10000000.;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a76714bdbc5c536fa77dfb14533ff82a9" kindref="member">latitude</ref><sp/>=<sp/><ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1a5bf9aac20fe4e7a73cd1a9fc30d7ae00" kindref="member">latitude</ref><sp/>/<sp/>10000000.;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref><sp/>=<sp/><ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1ad12fc34ce789bce6c8a05d8a17138534" kindref="member">height</ref><sp/>/<sp/>1000.;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>speedX<sp/>=<sp/>qAbs(<ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1a20fcaf3d7d5effa75ca571510f53a6cc" kindref="member">speed_x</ref><sp/>*<sp/>0.0036);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>speedY<sp/>=<sp/>qAbs(<ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1a3abd5cb27c81871612651aee8a0476ba" kindref="member">speed_y</ref><sp/>*<sp/>0.0036);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a9747f19755c0d74510f7a0860c11fbef" kindref="member">m_dSpeed</ref><sp/>=<sp/>qSqrt(speedX<sp/>*<sp/>speedX<sp/>+<sp/>speedY<sp/>*<sp/>speedY);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(checksum<sp/>==<sp/>sendCrc)</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1ac64f2ec114d4ab8dd8ed8dd31f243454" kindref="member">geolocation</ref>(<ref refid="d8/d84/a00001_1a76714bdbc5c536fa77dfb14533ff82a9" kindref="member">latitude</ref>,<sp/><ref refid="d8/d84/a00001_1ac155e35fdeebafc89723a51520fb9fe6" kindref="member">longitude</ref>,<sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref>,<sp/><ref refid="d8/d84/a00001_1ae024163074f229a06b7ea69b190e466d" kindref="member">heading</ref>);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1aeffc2ecc4a5de587172d46c5ff0156db" kindref="member">updateSpeed</ref>(<ref refid="d8/d84/a00001_1a9747f19755c0d74510f7a0860c11fbef" kindref="member">m_dSpeed</ref>);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a8ca9715733ba2afa7525da56a6e98311" kindref="member">updateGPSQuality</ref>(<ref refid="d8/d84/a00001_1ac042d2d437c63ce6fe1916aac1c77a9b" kindref="member">gps</ref>.<ref refid="d3/d32/a00105_1a9390419b61f0e0bae53f5f094ce82b93" kindref="member">numSV</ref>);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR<sp/>:<sp/>Incomplete<sp/>structure&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a31082f0cdd2aeea81ceb79028bf639af" kindref="member">writeLog</ref>(checksum<sp/>==<sp/>sendCrc);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(descriptor<sp/>==<sp/>RC_DATA_DESCRIPTOR<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RC<sp/>polled<sp/>data<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&lt;<sp/>(length<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref>)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1))</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref>));</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref>);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;sendCrc,<sp/>&amp;data[index],<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>checksum<sp/>=<sp/><ref refid="d8/d84/a00001_1a914607c9e5f387852e494b819d9da3dd" kindref="member">crc16</ref>(&amp;<ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="d1/dd6/a00108" kindref="compound">RC_DATA</ref>));</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1ab51c3c4f71404589fc3a47c213449b1e" kindref="member">rcData</ref>(<ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[3],<sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[0],<sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[1],<sp/></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[2],<sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[4],<sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a9ece938051bc16291613a2bdccd52bec" kindref="member">channels_out</ref>[5],<sp/><ref refid="d8/d84/a00001_1a53109ee6a15f404839038d5405afaee1" kindref="member">rc</ref>.<ref refid="d1/dd6/a00108_1a6ae861576031be7ecfd4d6c9e870fb99" kindref="member">lock</ref>);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR<sp/>:<sp/>Incomplete<sp/>structure&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Unknown<sp/>polled<sp/>data<sp/>type<sp/>found<sp/>in<sp/>buffer&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>+=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(short)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;&lt;#&lt;&quot;</highlight><highlight class="normal">)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1abfd62a1f4f4f584858b758c0800e9b70" kindref="member">getSystemLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Polled<sp/>data<sp/>sent&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291" refid="d8/d84/a00001_1a7ac28e04cb63f852e31316b6fcd25228" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a7ac28e04cb63f852e31316b6fcd25228" kindref="member">CommunicationControl::createLog</ref>()</highlight></codeline>
<codeline lineno="292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="d2/de7/a00014" kindref="compound">UAVLogger</ref>();</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1aeabc1d456526485e8c922a94b4bfa22d" kindref="member">getDataLoggerStream</ref>())<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Date&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Latitude<sp/>()&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Longitude<sp/>()&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Altitude<sp/>(from<sp/>ground,<sp/>in<sp/>m)&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Heading<sp/>()&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Speed<sp/>(km/h)&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Valid<sp/>crc&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="298"><highlight class="normal">}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300" refid="d8/d84/a00001_1a31082f0cdd2aeea81ceb79028bf639af" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a31082f0cdd2aeea81ceb79028bf639af" kindref="member">CommunicationControl::writeLog</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>validCrc)</highlight></codeline>
<codeline lineno="301"><highlight class="normal">{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>*(<ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>-&gt;<ref refid="d2/de7/a00014_1aeabc1d456526485e8c922a94b4bfa22d" kindref="member">getDataLoggerStream</ref>())<sp/>&lt;&lt;<sp/>QDateTime::currentDateTime().toString()<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a76714bdbc5c536fa77dfb14533ff82a9" kindref="member">latitude</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="d8/d84/a00001_1ac155e35fdeebafc89723a51520fb9fe6" kindref="member">longitude</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="d8/d84/a00001_1a2b13d276aee0d9fd646c8fa3647e869b" kindref="member">altitude</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="d8/d84/a00001_1ae024163074f229a06b7ea69b190e466d" kindref="member">heading</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a9747f19755c0d74510f7a0860c11fbef" kindref="member">m_dSpeed</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;;<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>validCrc<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="305"><highlight class="normal">}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308" refid="d8/d84/a00001_1ade64afbb6a24f22d48cff310655c8755" refkind="member"><highlight class="normal"><ref refid="d2/de7/a00014" kindref="compound">UAVLogger</ref>*<sp/><ref refid="d8/d84/a00001_1ade64afbb6a24f22d48cff310655c8755" kindref="member">CommunicationControl::getLogger</ref>()</highlight></codeline>
<codeline lineno="309"><highlight class="normal">{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a7577a19e7793780c079fea7dcaefabf0" kindref="member">log</ref>;</highlight></codeline>
<codeline lineno="311"><highlight class="normal">}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314" refid="d8/d84/a00001_1ac02d771e0ef073ed89aeaca4ed961a05" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1ac02d771e0ef073ed89aeaca4ed961a05" kindref="member">CommunicationControl::pollData</ref>()</highlight></codeline>
<codeline lineno="315"><highlight class="normal">{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1ad6acfa8418d9902f110bee275fe13a57" kindref="member">poll</ref>(CURRENT_WAY_PACKET<sp/>|<sp/>GPS_PACKET<sp/>|<sp/>STATUS_PACKET<sp/>|<sp/>IMU_CALCDATA_PACKET<sp/>|<sp/>RC_DATA_PACKET);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a0ed94524da54e5031e44ab80b249b042" kindref="member">m_pPollTimeout</ref>.start(1000);</highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320" refid="d8/d84/a00001_1aaaf1f78d12176382ee56a92912b1cc53" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1aaaf1f78d12176382ee56a92912b1cc53" kindref="member">CommunicationControl::autonomousMode</ref>()</highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)),<sp/></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a26c718e7e95e398ee9368434c23d0622" kindref="member">sendGoTo</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a26c718e7e95e398ee9368434c23d0622" kindref="member">sendGoTo</ref>()));</highlight></codeline>
<codeline lineno="326"><highlight class="normal">}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328" refid="d8/d84/a00001_1a57866bb7255c471cd9c4cfdf7c88681d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a57866bb7255c471cd9c4cfdf7c88681d" kindref="member">CommunicationControl::computerAidedControlMode</ref>()</highlight></codeline>
<codeline lineno="329"><highlight class="normal">{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>disconnect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)),<sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1aabee8811f89359e4de50856e175f98e4" kindref="member">sendWaypoint</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>disconnect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>SIGNAL(<ref refid="d8/d84/a00001_1a26c718e7e95e398ee9368434c23d0622" kindref="member">sendGoTo</ref>()),<sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>,<sp/>SLOT(<ref refid="d8/d84/a00001_1a26c718e7e95e398ee9368434c23d0622" kindref="member">sendGoTo</ref>()));</highlight></codeline>
<codeline lineno="334"><highlight class="normal">}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336" refid="d8/d84/a00001_1a417a5d7262b4ed5f466af6ff7878b09d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a417a5d7262b4ed5f466af6ff7878b09d" kindref="member">CommunicationControl::pollDataTimedOut</ref>()</highlight></codeline>
<codeline lineno="337"><highlight class="normal">{</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1aa5a7389d7467aa0a6f4dbd964b1ce692" kindref="member">m_nLinkTries</ref><sp/>++;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="d8/d84/a00001_1aa5a7389d7467aa0a6f4dbd964b1ce692" kindref="member">m_nLinkTries</ref><sp/>&gt;<sp/>NB_TRIES)</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a0ed94524da54e5031e44ab80b249b042" kindref="member">m_pPollTimeout</ref>.stop();</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1acb05f93668631d777d1e9a4efa094d6e" kindref="member">comThread</ref>-&gt;<ref refid="d7/d46/a00002_1a34bd4298c27ce53379ec5eb23db83601" kindref="member">clearCounters</ref>();</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>emit<sp/><ref refid="d8/d84/a00001_1a3a3794256db7e6b52daad0dc178c2db9" kindref="member">XBeeStatus</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348" refid="d8/d84/a00001_1a7162886e6b7f34f937eefcdfdcf9a052" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d84/a00001_1a7162886e6b7f34f937eefcdfdcf9a052" kindref="member">CommunicationControl::retryConnection</ref>()</highlight></codeline>
<codeline lineno="349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1a8c528baf37154d347366083f0f816846" kindref="member">stop</ref>();</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d84/a00001_1ae262c467eec4b15d1f6e487ab6397d68" kindref="member">start</ref>(<ref refid="d8/d84/a00001_1a6ac4068e574f32c7f5aa0c54f3ce3897" kindref="member">m_sCom</ref>);</highlight></codeline>
<codeline lineno="352"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/Users/mboussai/Desktop/Mohamed/Qt Projects/MARCS/CommunicationControl.cpp"/>
  </compounddef>
</doxygen>
